# WEBTRAX

__EXPERIMENTAL__: This repository is at a very early stage. Everything will change, don't depend on it.

## Develop + Demo

This application has Firebase AppCheck enabled. Update `index.html` with `FIREBASE_APPCHECK_DEBUG_TOKEN` value before starting it locally.

Then run `npm run dev:bootstrap`. This command will start Firebase emulators. It will add default audio files to Firebase Storage and Firestore. The list of default records are defined inside `data/bootstrap.txt`. This file is not checked-in.

The format of the file is as follows:

```
auth: { "email": "admin@test.com", "password": "", "admin": true}
firestore: {"collection": "samples", "data": { "name": "kick", "owner": null, "path": "public/kick.wav"} }
storage: {"src": "kick.wav", "dest": "samples/public/kick.wav"}
```

## Demo

To demo it on Firebase: https://wx.cryn.dev


## Firebase Configs

### Google API Key

The API key in [environment.ts](src/environments/environment.ts) is autogenerated by Firebase. It is a browser key, so it is "OK" for it to be checked in. However, it should be restricted to use used only in certain origins for extra security.

Namely:

1. The IDX preview domain.
2. Firebase production domain.


### Cloud Storage - CORS

Configure CORS for the cloud storage buckets to be able to download them from the browser.
https://firebase.google.com/docs/storage/web/download-files#cors_configuration

```
gsutil cors set firebase_admin/cloud_storage/cloud_storage_cors.json gs://webtrax-1fc7d.appspot.com
```

## Material Symbols

Using Material symbols which is licensed under [Apache License 2.0](https://developers.google.com/fonts/docs/material_symbols#licensing).

Use https://fonts.google.com/icons to browse through icons. 
